<%- include('../../views/partials/admin/header') %>

<link rel="stylesheet" href="/css/admin/dashboard.css">
  




<div class="container py-5">

    <div class="sale-container">
        <h1>Sales Report</h1>
        <!-- Sales Report Filters Form -->
        <form id="report-form">
            <button id="generate-button" class="d-flex mb-2 ms-auto" type="submit">Generate Report</button>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="report-type">Report Type:</label>
                    <select id="report-type" name="report-type">
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="custom">Custom Date Range</option>
                    </select>
                </div>
            </div>
        
            <!-- Date Fields, hidden by default unless 'custom' is selected -->
            <div class="form-row" id="date-fields" style="display: none;">
                <div class="form-group">
                    <label for="start-date">Start Date:</label>
                    <input type="date" id="start-date" name="start-date">
                </div>
                <div class="form-group">
                    <label for="end-date">End Date:</label>
                    <input type="date" id="end-date" name="end-date">
                </div>
            </div>
        </form>
        

        <!-- Table to display the sales report -->
        <table id="report-table" class="hidden">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Sales Count</th>
                    <th>Total Order Amount</th>
                    <th>Total Discount</th>
                </tr>
            </thead>
            <tbody>
                <!-- Report data will be dynamically inserted here -->
            </tbody>
        </table>

        <!-- Buttons to download the report -->
        <div id="download-buttons" class="hidden">
            <button id="download-pdf">Download PDF</button>
            <button id="download-excel">Download Excel</button>
        </div>
    </div>

    <!-- Right Side - Charts -->
    <div class="charts-container">
        <h2>Top Performers</h2>

        <!-- Filters Section -->
        <div class="filters">
            <label for="timeRange">Select Time Range:</label>
            <select id="timeRange" class="filter-select">
                <option value="day">Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
                <option value="year">This Year</option>
                <option value="custom">Custom</option>
            </select>

            <!-- Custom Date Range Inputs (Initially Hidden) -->
            <div id="custom-date-range" class="custom-date-range" style="display: none;">
                <label for="startDate">Start Date:</label>
                <input type="date" id="startDate" />
                <label for="endDate">End Date:</label>
                <input type="date" id="endDate" />
            </div>
            <button id="applyFilters" class="apply-filters-btn">Apply Filters</button>
        </div>

        <!-- Charts -->
        <div>
            <h3>Top 10 Best-Selling Products</h3>
            <canvas id="top-products-chart"></canvas>
        </div>
        <div>
            <h3>Top 10 Best-Selling Categories</h3>
            <canvas id="top-categories-chart"></canvas>
        </div>
        <div>
            <h3>Top 10 Best-Selling Brands</h3>
            <canvas id="top-brands-chart"></canvas>
        </div>
    </div>
</div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>

    <script src="/js/admin/chart-table.js"></script>
   


<%- include('../../views/partials/admin/footer') %>
